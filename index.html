<!doctype html>
<html lang=ar dir=rtl>
<head>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø§Ø±Ø³ Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ - Ø­Ù„ Ù…ØªÙ‚Ø¯Ù… Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©">
<meta name=keywords content="Ù†Ø¸Ø§Ù… Ù…Ø¯Ø±Ø³ÙŠ, Ø¥Ø¯Ø§Ø±Ø© ØªÙ„Ø§Ù…ÙŠØ°, Ø­Ø¶ÙˆØ± ÙˆØºÙŠØ§Ø¨, ØªÙ‚Ø§Ø±ÙŠØ± ØªØ¹Ù„ÙŠÙ…ÙŠØ©">
<link rel=manifest href=/manifest.json>
<meta name=theme-color content=#006233>
<link rel=apple-touch-icon href=/icon-192x192.png>
<title>ğŸ« Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø§Ø±Ø³ | Ù†Ø³Ø®Ø© Ù…ØªÙ‚Ø¯Ù…Ø©</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800;900&display=swap" rel=stylesheet>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css>
<script src=https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/chart.js></script>
<script src=https://cdn.jsdelivr.net/npm/sweetalert2@11></script>
<style>:root{--primary-color:#006233;--primary-dark:#004d26;--primary-light:#e8f5e9;--secondary-color:#2196f3;--accent-color:#ff9800;--danger-color:#f44336;--success-color:#4caf50;--warning-color:#ffc107;--dark-color:#2c3e50;--light-color:#f8f9fa;--gray-color:#6c757d;--gradient-primary:linear-gradient(135deg, #006233 0%, #2E7D32 100%);--gradient-secondary:linear-gradient(135deg, #2196f3 0%, #1976d2 100%);--gradient-accent:linear-gradient(135deg, #ff9800 0%, #ff5722 100%);--shadow-sm:0 2px 8px rgba(0,0,0,0.06);--shadow-md:0 4px 16px rgba(0,0,0,0.1);--shadow-lg:0 8px 32px rgba(0,0,0,0.15);--shadow-xl:0 16px 48px rgba(0,0,0,0.2);--border-radius-sm:8px;--border-radius-md:12px;--border-radius-lg:16px;--border-radius-xl:24px;--transition-fast:0.2s ease;--transition-normal:0.3s ease;--transition-slow:0.5s ease}@media (prefers-color-scheme:dark){:root{--primary-color:#00a85d;--dark-color:#ffffff;--light-color:#121212;--gray-color:#b0b0b0}body{background:#121212;color:#fff}.card{background:#1e1e1e;border:1px solid #333}table{background:#1e1e1e}td{border-color:#333}}*{margin:0;padding:0;box-sizing:border-box}html{scroll-behavior:smooth}body{font-family:Cairo,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:linear-gradient(135deg,#f5f7fa 0,#e4edf5 100%);min-height:100vh;color:var(--dark-color);line-height:1.6}::-webkit-scrollbar{width:10px;height:10px}::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}::-webkit-scrollbar-thumb{background:var(--primary-color);border-radius:10px}::-webkit-scrollbar-thumb:hover{background:var(--primary-dark)}#preloader{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--gradient-primary);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999;transition:opacity var(--transition-normal)}.preloader-content{text-align:center;color:#fff}.loader{width:80px;height:80px;border:5px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:spin 1s linear infinite;margin:0 auto 20px}@keyframes spin{100%{transform:rotate(360deg)}}.glass-header{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.2);box-shadow:var(--shadow-md);position:sticky;top:0;z-index:1000;padding:15px 0}.header-content{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center}.logo{display:flex;align-items:center;gap:15px}.logo-icon{width:50px;height:50px;background:var(--gradient-primary);border-radius:var(--border-radius-md);display:flex;align-items:center;justify-content:center;font-size:24px;color:#fff}.logo-text h1{font-size:24px;font-weight:900;color:var(--primary-color);margin:0}.logo-text p{font-size:14px;color:var(--gray-color);margin:0}.container{max-width:1400px;margin:0 auto;padding:20px}.card{background:#fff;border-radius:var(--border-radius-lg);padding:30px;margin-bottom:25px;box-shadow:var(--shadow-md);transition:all var(--transition-normal);border:1px solid rgba(0,0,0,.05);position:relative;overflow:hidden}.card::before{content:'';position:absolute;top:0;left:0;width:100%;height:4px;background:var(--gradient-primary)}.card:hover{transform:translateY(-5px);box-shadow:var(--shadow-lg)}.card-title{font-size:22px;font-weight:800;color:var(--primary-color);margin-bottom:25px;display:flex;align-items:center;gap:12px}.btn{padding:14px 28px;border:none;border-radius:var(--border-radius-md);font-family:Cairo,sans-serif;font-weight:700;font-size:15px;cursor:pointer;transition:all var(--transition-normal);display:inline-flex;align-items:center;justify-content:center;gap:10px;position:relative;overflow:hidden}.btn-primary{background:var(--gradient-primary);color:#fff}.btn-primary:hover{transform:translateY(-3px);box-shadow:0 8px 25px rgba(0,98,51,.3)}.btn-secondary{background:var(--gradient-secondary);color:#fff}.btn-success{background:var(--success-color);color:#fff}.btn-danger{background:var(--danger-color);color:#fff}.btn-warning{background:var(--warning-color);color:#333}.btn-sm{padding:8px 16px;font-size:14px}.form-group{margin-bottom:20px}.form-label{display:block;margin-bottom:8px;font-weight:700;color:var(--dark-color)}.form-control{width:100%;padding:14px 18px;border:2px solid #e0e0e0;border-radius:var(--border-radius-md);font-family:Cairo,sans-serif;font-size:15px;transition:all var(--transition-normal);background:#fff}.form-control:focus{outline:0;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(0,98,51,.1)}.input-group{display:flex;gap:12px}.input-group .form-control{flex:1}.data-table{width:100%;border-collapse:separate;border-spacing:0;background:#fff;border-radius:var(--border-radius-lg);overflow:hidden;box-shadow:var(--shadow-sm)}.data-table th{background:var(--gradient-primary);color:#fff;padding:18px;font-weight:700;text-align:center;position:relative}.data-table th::after{content:'';position:absolute;right:0;top:20%;height:60%;width:1px;background:rgba(255,255,255,.3)}.data-table th:last-child::after{display:none}.data-table td{padding:16px;border-bottom:1px solid #f0f0f0;text-align:center;transition:background var(--transition-fast)}.data-table tbody tr{transition:all var(--transition-fast)}.data-table tbody tr:hover{background:var(--primary-light);transform:scale(1.01)}.badge{display:inline-block;padding:6px 14px;border-radius:20px;font-size:13px;font-weight:700}.badge-success{background:#e8f5e9;color:var(--primary-color)}.badge-warning{background:#fff3e0;color:#f57c00}.badge-danger{background:#ffebee;color:var(--danger-color)}.badge-info{background:#e3f2fd;color:var(--secondary-color)}.nav-tabs{display:flex;gap:10px;background:#fff;padding:20px;border-radius:var(--border-radius-lg);box-shadow:var(--shadow-md);margin-bottom:25px;flex-wrap:wrap}.nav-tab{padding:14px 24px;background:0 0;border:2px solid transparent;border-radius:var(--border-radius-md);cursor:pointer;font-weight:700;color:var(--gray-color);transition:all var(--transition-normal);display:flex;align-items:center;gap:10px;position:relative}.nav-tab:hover{background:var(--primary-light);color:var(--primary-color)}.nav-tab.active{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.nav-tab.active::before{content:'';position:absolute;bottom:-2px;left:50%;transform:translateX(-50%);width:80%;height:3px;background:#fff;border-radius:2px}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}.stat-card{background:#fff;padding:25px;border-radius:var(--border-radius-lg);text-align:center;box-shadow:var(--shadow-md);transition:all var(--transition-normal);border-top:4px solid var(--primary-color)}.stat-card:hover{transform:translateY(-5px);box-shadow:var(--shadow-lg)}.stat-number{font-size:42px;font-weight:900;color:var(--primary-color);margin:15px 0}.stat-label{font-size:16px;color:var(--gray-color);font-weight:600}.chart-container{background:#fff;border-radius:var(--border-radius-lg);padding:25px;box-shadow:var(--shadow-md);margin-bottom:25px}.alert{padding:18px 22px;border-radius:var(--border-radius-md);margin-bottom:20px;display:flex;align-items:center;gap:15px;border-right:5px solid}.alert-success{background:#e8f5e9;border-right-color:var(--success-color);color:#1b5e20}.alert-danger{background:#ffebee;border-right-color:var(--danger-color);color:#c62828}.alert-warning{background:#fff3e0;border-right-color:var(--warning-color);color:#ef6c00}.alert-info{background:#e3f2fd;border-right-color:var(--secondary-color);color:#1565c0}.hidden{display:none!important}.text-center{text-align:center}.text-right{text-align:right}.mt-20{margin-top:20px}.mb-20{margin-bottom:20px}.w-100{width:100%}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.fade-in{animation:fadeIn .5s ease forwards}@media (max-width:992px){.container{padding:15px}.card{padding:20px}.nav-tabs{flex-direction:column}.nav-tab{width:100%;justify-content:center}.stats-grid{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}}@media (max-width:768px){.header-content{flex-direction:column;gap:15px;text-align:center}.logo{flex-direction:column}.card-title{font-size:18px}.btn{padding:12px 20px;font-size:14px}.data-table{display:block;overflow-x:auto}}@media (max-width:480px){.container{padding:10px}.card{padding:15px}.btn{width:100%;margin-bottom:10px}.input-group{flex-direction:column}}@media print{.no-print{display:none!important}.card{box-shadow:none;border:1px solid #ddd}.btn{display:none!important}}</style>
</head>
<body>
<div id=preloader>
<div class=preloader-content>
<div class=loader></div>
<h2 style=color:#fff;margin-bottom:10px>ğŸ« Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ</h2>
<p style=color:rgba(255,255,255,.9)>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©...</p>
</div>
</div>
<header class=glass-header>
<div class=header-content>
<div class=logo>
<div class=logo-icon>
<i class="fas fa-school"></i>
</div>
<div class=logo-text>
<h1>Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø§Ø±Ø³</h1>
<p>Ø§Ù„Ø­Ù„ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø°ÙƒÙŠØ©</p>
</div>
</div>
<div class=header-actions>
<button id=themeToggle class="btn btn-sm" style=background:var(--primary-light);color:var(--primary-color)>
<i class="fas fa-moon"></i> ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¸Ù‡Ø±
</button>
<button id=logoutBtn class="btn btn-sm btn-danger hidden">
<i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
</button>
</div>
</div>
</header>
<main class=container>
<section id=authSection class="card fade-in">
<div class=card-title>
<i class="fas fa-lock"></i> Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù…Ù†Ø©
</div>
<div id=authAlert class="alert hidden"></div>
<div class=form-group>
<label class=form-label for=email>
<i class="fas fa-envelope"></i> Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
</label>
<input type=email id=email class=form-control placeholder=example@school.edu required>
</div>
<div class=form-group>
<label class=form-label for=password>
<i class="fas fa-key"></i> ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
</label>
<div style=position:relative>
<input type=password id=password class=form-control placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
<button type=button id=togglePassword style="position:absolute;left:15px;top:50%;transform:translateY(-50%);background:0 0;border:none;color:var(--gray-color);cursor:pointer">
<i class="fas fa-eye"></i>
</button>
</div>
</div>
<div class=form-group>
<label class=form-label for=userRole>
<i class="fas fa-user-tag"></i> Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨
</label>
<select id=userRole class=form-control required>
<option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨</option>
<option value=admin>ğŸ‘‘ Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¤Ø³Ø³Ø©</option>
<option value=advisor>ğŸ“ Ù…Ø³ØªØ´Ø§Ø± ØªØ±Ø¨ÙˆÙŠ</option>
<option value=teacher>ğŸ‘¨â€ğŸ« Ø£Ø³ØªØ§Ø°</option>
<option value=student>ğŸ‘¨â€ğŸ“ ØªÙ„Ù…ÙŠØ°</option>
<option value=parent>ğŸ‘¨â€ğŸ‘¦ ÙˆÙ„ÙŠ Ø£Ù…Ø±</option>
</select>
</div>
<div class="input-group mt-20">
<button id=loginBtn class="btn btn-primary">
<i class="fas fa-sign-in-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
</button>
<button id=registerBtn class="btn btn-secondary">
<i class="fas fa-user-plus"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
</button>
</div>
<div class="text-center mt-20" style=color:var(--gray-color);font-size:14px>
<i class="fas fa-shield-alt"></i> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø´ÙØ±Ø© ÙˆÙÙ‚ Ø£Ø¹Ù„Ù‰ Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©
</div>
</section>
<section id=schoolSetupSection class="card hidden">
<div class=card-title>
<i class="fas fa-school"></i> Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¤Ø³Ø³Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©
</div>
<div class=form-group>
<label class=form-label for=schoolName>Ø§Ø³Ù… Ø§Ù„Ù…Ø¤Ø³Ø³Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</label>
<input id=schoolName class=form-control placeholder="Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ÙŠØ© Ù„Ù„ØªÙ…ÙŠØ²">
</div>
<div class=form-group>
<label class=form-label for=schoolCode>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø±Ø³Ù…ÙŠ Ù„Ù„Ù…Ø¤Ø³Ø³Ø©</label>
<input id=schoolCode class=form-control placeholder=123456>
</div>
<div class=form-group>
<label class=form-label for=province>Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
<select id=province class=form-control>
<option value="">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</option>
<option value=algiers>Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option>
<option value=oran>ÙˆÙ‡Ø±Ø§Ù†</option>
<option value=constantine>Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©</option>
<option value=annaba>Ø¹Ù†Ø§Ø¨Ø©</option>
<option value=blida>Ø§Ù„Ø¨Ù„ÙŠØ¯Ø©</option>
<option value=setif>Ø³Ø·ÙŠÙ</option>
<option value=batna>Ø¨Ø§ØªÙ†Ø©</option>
<option value=djelfa>Ø§Ù„Ø¬Ù„ÙØ©</option>
<option value=tiaret>ØªÙŠØ§Ø±Øª</option>
<option value=bejaia>Ø¨Ø¬Ø§ÙŠØ©</option>
<option value=skikda>Ø³ÙƒÙŠÙƒØ¯Ø©</option>
<option value=tlemcen>ØªÙ„Ù…Ø³Ø§Ù†</option>
<option value=ghardaia>ØºØ±Ø¯Ø§ÙŠØ©</option>
<option value=laghouat>Ø§Ù„Ø£ØºÙˆØ§Ø·</option>
<option value=mostaganem>Ù…Ø³ØªØºØ§Ù†Ù…</option>
<option value=msila>Ø§Ù„Ù…Ø³ÙŠÙ„Ø©</option>
<option value=saida>Ø§Ù„Ø³Ø¹ÙŠØ¯Ø©</option>
<option value=eloued>Ø§Ù„ÙˆØ§Ø¯ÙŠ</option>
<option value=tindouf>ØªÙ†Ø¯ÙˆÙ</option>
<option value=tamanrasset>ØªÙ…Ù†Ø±Ø§Ø³Øª</option>
</select>
</div>
<div class=form-group>
<label class=form-label for=schoolPhone>Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø¤Ø³Ø³Ø©</label>
<input type=tel id=schoolPhone class=form-control placeholder=023123456>
</div>
<button id=saveSchoolBtn class="btn btn-primary w-100">
<i class="fas fa-save"></i> Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¤Ø³Ø³Ø© ÙˆØ§Ù„Ù…ØªØ§Ø¨Ø¹Ø©
</button>
</section>
<section id=uploadSection class="card hidden">
<div class=card-title>
<i class="fas fa-cloud-upload-alt"></i> Ø±ÙØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
</div>
<div class="alert alert-info">
<i class="fas fa-info-circle"></i>
<strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù‡Ù…Ø©:</strong> ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨ØµÙŠØºØ© Excel (xlsx) ÙˆØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
</div>
<div class=form-group>
<label class=form-label for=studentsFile>
<i class="fas fa-users"></i> Ù…Ù„Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°
<small style=color:var(--gray-color);display:block;margin-top:5px>
ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: Ø§Ù„Ù„Ù‚Ø¨ØŒ Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ù‚Ø³Ù…ØŒ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ØŒ Ø§Ù„Ø¬Ù†Ø³ØŒ Ù‡Ø§ØªÙ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±
</small>
</label>
<input type=file id=studentsFile class=form-control accept=.xlsx,.xls>
</div>
<div class=form-group>
<label class=form-label for=teachersFile>
<i class="fas fa-chalkboard-teacher"></i> Ù…Ù„Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©
<small style=color:var(--gray-color);display:block;margin-top:5px>
ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ØŒ Ø§Ù„Ù…Ø§Ø¯Ø©ØŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŒ Ø§Ù„Ù‡Ø§ØªÙ
</small>
</label>
<input type=file id=teachersFile class=form-control accept=.xlsx,.xls>
</div>
<div class=input-group>
<button id=downloadTemplateBtn class="btn btn-secondary">
<i class="fas fa-download"></i> ØªØ­Ù…ÙŠÙ„ Ù‚ÙˆØ§Ù„Ø¨ Ø¬Ø§Ù‡Ø²Ø©
</button>
<button id=uploadFilesBtn class="btn btn-primary">
<i class="fas fa-upload"></i> Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
</button>
</div>
<div id=uploadProgress class="hidden mt-20">
<div style=background:#f0f0f0;border-radius:var(--border-radius-md);height:12px;overflow:hidden>
<div id=progressBar style="height:100%;width:0%;background:var(--gradient-primary);transition:width .3s"></div>
</div>
<div class="text-center mt-10" style=color:var(--gray-color)>
<span id=progressText>Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</span>
<span id=progressPercent style=font-weight:700;margin-right:10px>0%</span>
</div>
</div>
</section>
<section id=mainDashboard class=hidden>
<div class=nav-tabs>
<button class="nav-tab active" data-section=overview>
<i class="fas fa-tachometer-alt"></i> Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©
</button>
<button class=nav-tab data-section=students>
<i class="fas fa-users"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°
</button>
<button class=nav-tab data-section=teachers>
<i class="fas fa-chalkboard-teacher"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©
</button>
<button class=nav-tab data-section=attendance>
<i class="fas fa-clipboard-check"></i> Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„ØºÙŠØ§Ø¨
</button>
<button class=nav-tab data-section=grades>
<i class="fas fa-chart-line"></i> Ø§Ù„Ø¯Ø±Ø¬Ø§Øª ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ…
</button>
<button class=nav-tab data-section=reports>
<i class="fas fa-file-alt"></i> Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
</button>
<button id=adminTab class="nav-tab hidden" data-section=admin>
<i class="fas fa-cogs"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
</button>
</div>
<div id=overview class=dashboard-section>
<div class=stats-grid>
<div class=stat-card>
<div class=stat-number id=totalStudents>0</div>
<div class=stat-label>ğŸ‘¨â€ğŸ“ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°</div>
<div style=margin-top:15px;font-size:14px;color:var(--success-color)>
<i class="fas fa-arrow-up"></i> Ø²ÙŠØ§Ø¯Ø© 5% Ø¹Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ
</div>
</div>
<div class=stat-card>
<div class=stat-number id=totalTeachers>0</div>
<div class=stat-label>ğŸ‘¨â€ğŸ« Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©</div>
<div style=margin-top:15px;font-size:14px;color:var(--success-color)>
<i class="fas fa-check-circle"></i> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø§ØªØ°Ø© Ù†Ø´Ø·ÙŠÙ†
</div>
</div>
<div class=stat-card>
<div class=stat-number id=attendanceRate>98%</div>
<div class=stat-label>ğŸ“Š Ù†Ø³Ø¨Ø© Ø§Ù„Ø­Ø¶ÙˆØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ</div>
<div style=margin-top:15px;font-size:14px;color:var(--success-color)>
<i class="fas fa-thumbs-up"></i> Ù†Ø³Ø¨Ø© Ù…Ù…ØªØ§Ø²Ø©
</div>
</div>
<div class=stat-card>
<div class=stat-number id=avgGrade>16.5</div>
<div class=stat-label>â­ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¯Ø±Ø¬Ø§Øª</div>
<div style=margin-top:15px;font-size:14px;color:var(--accent-color)>
<i class="fas fa-trend-up"></i> ØªØ­Ø³Ù† 0.8 Ù†Ù‚Ø·Ø©
</div>
</div>
</div>
<div class=chart-container>
<h3 style=color:var(--primary-color);margin-bottom:20px;font-size:18px>
<i class="fas fa-chart-pie"></i> Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø­Ø³Ø¨ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
</h3>
<canvas id=classesChart height=250></canvas>
</div>
<div class=card>
<div class=card-title>
<i class="fas fa-bell"></i> Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø­Ø¯ÙŠØ«Ø© ÙˆØ§Ù„Ù†Ø´Ø§Ø·Ø§Øª
</div>
<div id=recentActivities>
<div style=background:var(--primary-light);padding:15px;border-radius:var(--border-radius-md);margin-bottom:10px>
<div style=display:flex;align-items:center;gap:15px>
<div style=width:40px;height:40px;background:var(--primary-color);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff>
<i class="fas fa-user-plus"></i>
</div>
<div>
<div style=font-weight:700;color:var(--dark-color)>ØªÙ… Ø¥Ø¶Ø§ÙØ© 5 ØªÙ„Ø§Ù…ÙŠØ° Ø¬Ø¯Ø¯</div>
<div style=color:var(--gray-color);font-size:14px>Ù‚Ø¨Ù„ 15 Ø¯Ù‚ÙŠÙ‚Ø© â€¢ Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù…Ø¯ÙŠØ±</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div style=display:flex;justify-content:space-between;align-items:center;margin-bottom:25px>
<div class=card-title>
<i class="fas fa-users"></i> Ø¥Ø¯Ø§Ø±Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°
</div>
<div style=display:flex;gap:15px>
<div style=position:relative>
<input id=studentSearch class=form-control placeholder="ğŸ” Ø¨Ø­Ø« Ø¹Ù† ØªÙ„Ù…ÙŠØ°..." style=width:250px>
<i class="fas fa-search" style=position:absolute;left:15px;top:50%;transform:translateY(-50%);color:var(--gray-color)></i>
</div>
<button id=addStudentBtn class="btn btn-primary">
<i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© ØªÙ„Ù…ÙŠØ°
</button>
<button id=importStudentsBtn class="btn btn-success">
<i class="fas fa-file-import"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯ Excel
</button>
<button id=exportStudentsBtn class="btn btn-secondary">
<i class="fas fa-file-export"></i> ØªØµØ¯ÙŠØ± Excel
</button>
</div>
</div>
<div style=overflow-x:auto>
<table class=data-table>
<thead>
<tr>
<th>#</th>
<th>Ø§Ù„ØµÙˆØ±Ø©</th>
<th>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</th>
<th>Ø§Ù„Ù‚Ø³Ù…</th>
<th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</th>
<th>ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±</th>
<th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
<th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
</tr>
</thead>
<tbody id=studentsTable>
</tbody>
</table>
</div>
<div style=display:flex;justify-content:space-between;align-items:center;margin-top:20px>
<div>
Ø¹Ø±Ø¶
<select id=pageSize style="padding:8px;border-radius:var(--border-radius-sm);border:1px solid #ddd">
<option value=10>10</option>
<option value=25 selected>25</option>
<option value=50>50</option>
<option value=100>100</option>
</select>
Ø³Ø¬Ù„Ø§Øª
</div>
<div>
<button id=prevPageBtn class="btn btn-sm">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
<span style="margin:0 15px">ØµÙØ­Ø© <span id=currentPage>1</span> Ù…Ù† <span id=totalPages>1</span></span>
<button id=nextPageBtn class="btn btn-sm">Ø§Ù„ØªØ§Ù„ÙŠ</button>
</div>
</div>


<div id=teachers class="dashboard-section hidden">
<div class=card>
<div class=card-title>
<i class="fas fa-chalkboard-teacher"></i> Ø¥Ø¯Ø§Ø±Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©
</div>
<div style=display:flex;gap:15px>
<button id=addTeacherBtn class="btn btn-primary">
<i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ø£Ø³ØªØ§Ø°
</button>
<button id=importTeachersBtn class="btn btn-success">
<i class="fas fa-file-import"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯ Excel
</button>
<button id=exportTeachersBtn class="btn btn-secondary">
<i class="fas fa-file-export"></i> ØªØµØ¯ÙŠØ± Excel
</button>
</div>
</div>
<div style=overflow-x:auto>
<table class=data-table>
<div style=overflow-x:auto>
<table class=data-table>
<thead>
<tr>
<th>#</th>
<th>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</th>
<th>Ø§Ù„Ù…Ø§Ø¯Ø©</th>
<th>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</th>
<th>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</th>
<th>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ†</th>
<th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
<th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
</tr>
</thead>
<tbody id=teachersTable>
</tbody>
</table>
</div>
</table></div>
</div>
<div id=attendance class="dashboard-section hidden">
<div class=card>
<div class=card-title>
<i class="fas fa-clipboard-check"></i> Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„ØºÙŠØ§Ø¨ Ø§Ù„Ø°ÙƒÙŠ
</div>
<div class=form-group>
<label class=form-label for=attendanceDate>
<i class="fas fa-calendar-alt"></i> Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ®
</label>
<input type=date id=attendanceDate class=form-control>
</div>
<div class=form-group>
<label class=form-label for=attendanceClass>
<i class="fas fa-users-class"></i> Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…
</label>
<select id=attendanceClass class=form-control>
<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…</option>
</select>
</div>
<div id=attendanceTableContainer style=margin-top:20px>
<p class=text-center style=color:var(--gray-color)>
Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„Ù‚Ø³Ù… Ù„Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¶ÙˆØ±
</p>
</div>
<button id=saveAttendanceBtn class="btn btn-primary w-100 mt-20">
<i class="fas fa-save"></i> Ø­ÙØ¸ Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¶ÙˆØ±
</button>
</div>
</div>
<div id=grades class="dashboard-section hidden">
<div class=card>
<div class=card-title>
<i class="fas fa-chart-line"></i> Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯Ø±Ø¬Ø§Øª ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ…
</div>
<div class=form-group>
<label class=form-label for=gradesClass>
<i class="fas fa-users-class"></i> Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…
</label>
<select id=gradesClass class=form-control>
<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…</option>
</select>
</div>
<div class=form-group>
<label class=form-label for=gradesSubject>
<i class="fas fa-book"></i> Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø©
</label>
<select id=gradesSubject class=form-control>
<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø©</option>
<option value=math>Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
<option value=science>Ø§Ù„Ø¹Ù„ÙˆÙ…</option>
<option value=arabic>Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
<option value=french>Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©</option>
<option value=history>Ø§Ù„ØªØ§Ø±ÙŠØ®</option>
<option value=geography>Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§</option>
<option value=islamic>Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</option>
</select>
</div>
<div id=gradesTableContainer style=margin-top:20px>
<p class=text-center style=color:var(--gray-color)>
Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù… ÙˆØ§Ù„Ù…Ø§Ø¯Ø© Ù„Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª
</p>
</div>
<button id=saveGradesBtn class="btn btn-primary w-100 mt-20">
<i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª
</button>
</div>
</div>
<div id=reports class="dashboard-section hidden">
<div class=card>
<div class=card-title>
<i class="fas fa-file-alt"></i> Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
</div>
<div class=input-group>
<select id=reportType class=form-control>
<option value=attendance>ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„ØºÙŠØ§Ø¨</option>
<option value=grades>ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¯Ø±Ø¬Ø§Øª</option>
<option value=students>ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°</option>
<option value=teachers>ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©</option>
<option value=monthly>ØªÙ‚Ø±ÙŠØ± Ø´Ù‡Ø±ÙŠ</option>
<option value=annual>ØªÙ‚Ø±ÙŠØ± Ø³Ù†ÙˆÙŠ</option>
</select>
<input type=month id=reportMonth class=form-control>
<select id=reportClass class=form-control>
<option value="">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</option>
</select>
</div>
<div class="input-group mt-20">
<button id=generateReportBtn class="btn btn-primary">
<i class="fas fa-cogs"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±
</button>
<button id=printReportBtn class="btn btn-secondary">
<i class="fas fa-print"></i> Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±
</button>
<button id=exportReportBtn class="btn btn-success">
<i class="fas fa-file-excel"></i> ØªØµØ¯ÙŠØ± Excel
</button>
</div>
<div id=reportOutput class=mt-20 style=min-height:300px>
</div>
</div>
</div>
<div id=admin class="dashboard-section hidden">
<div class=card>
<div class=card-title>
<i class="fas fa-cogs"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
</div>
<div style=display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px>
<div class=card style=padding:20px>
<h4 style=color:var(--primary-color);margin-bottom:15px>
<i class="fas fa-users-cog"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
</h4>
<div id=usersList class=empty-state>
Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†...
</div>
</div>
<div class=card style=padding:20px>
<h4 style=color:var(--primary-color);margin-bottom:15px>
<i class="fas fa-database"></i> Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
</h4>
<div id=systemStats>
<p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†: <strong id=totalUsers>0</strong></p>
<p>Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ° Ø§Ù„Ù†Ø´Ø·ÙŠÙ†: <strong id=activeStudents>0</strong></p>
<p>Ø§Ù„Ø£Ø³Ø§ØªØ°Ø© Ø§Ù„Ù†Ø´Ø·ÙŠÙ†: <strong id=activeTeachers>0</strong></p>
<p>Ø¢Ø®Ø± Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©: <strong id=lastBackup>ØºÙŠØ± Ù…ØªÙˆÙØ±</strong></p>
<p>Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ†: <strong id=storageUsed>0 MB</strong></p>
</div>
<button id=backupBtn class="btn btn-primary w-100 mt-20">
<i class="fas fa-database"></i> Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
</button>
</div>
<div class=card style=padding:20px>
<h4 style=color:var(--primary-color);margin-bottom:15px>
<i class="fas fa-sliders-h"></i> Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
</h4>
<div class=form-group>
<label class=form-label>Ø§Ø³Ù… Ø§Ù„Ù†Ø¸Ø§Ù…</label>
<input class=form-control id=systemName value="Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø§Ø±Ø³">
</div>
<div class=form-group>
<label class=form-label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ø¯Ø¹Ù…</label>
<input type=email class=form-control id=supportEmail value=support@schoolsystem.edu>
</div>
<div class=form-group>
<label class=form-label>Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ø¯Ø¹Ù…</label>
<input type=tel class=form-control id=supportPhone value=0551234567>
</div>
<button id=saveSettingsBtn class="btn btn-primary w-100">
<i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
</button>
</div>
</div>
</div>
</div>
</section>
</main>
<footer style="text-align:center;padding:30px;color:var(--gray-color);border-top:1px solid #eee;margin-top:40px">
<div style="max-width:800px;margin:0 auto">
<p style=font-size:16px;margin-bottom:10px>
<strong>ğŸ« Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø§Ø±Ø³</strong>
</p>
<p style=font-size:14px;margin-bottom:20px>
Ø§Ù„Ø­Ù„ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø°ÙƒÙŠØ© | Ø§Ù„Ø¥ØµØ¯Ø§Ø± 3.0 Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
</p>
<div style=display:flex;justify-content:center;gap:20px;margin-bottom:20px>
<a href=# style=color:var(--primary-color);text-decoration:none>
<i class="fas fa-shield-alt"></i> Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©
</a>
<a href=# style=color:var(--primary-color);text-decoration:none>
<i class="fas fa-file-contract"></i> Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
</a>
<a href=# style=color:var(--primary-color);text-decoration:none>
<i class="fas fa-headset"></i> Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ
</a>
</div>
<p style=font-size:12px>
Â© 2024 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© | ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª
</p>
</div>
</footer>
<div class=fab-container style=position:fixed;bottom:30px;left:30px;z-index:1000>
<button id=fabBtn class="btn btn-primary" style=width:60px;height:60px;border-radius:50%;padding:0;font-size:24px>
<i class="fas fa-plus"></i>
</button>
</div>
<div id=notificationContainer style=position:fixed;top:20px;right:20px;z-index:2000></div>
<script type=module>const firebaseConfig={apiKey:"AIzaSyCVzCCaJG2c_Mns3d788NM6Ifj_QiyVkk8",authDomain:"education-algeria.firebaseapp.com",projectId:"education-algeria",storageBucket:"education-algeria.firebasestorage.app",messagingSenderId:"329772568704",appId:"1:329772568704:web:ad98730f6789bfd3469665",measurementId:"G-039JRCKDET"};import{initializeApp}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";import{getAuth,createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged,signOut,updateProfile}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";import{getFirestore,collection,doc,setDoc,getDoc,getDocs,updateDoc,deleteDoc,query,where,orderBy,serverTimestamp,addDoc,writeBatch}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";import{getStorage,ref,uploadBytes,getDownloadURL}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";const app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),storage=getStorage(app),AppState={currentUser:null,userRole:null,currentSchool:null,students:[],teachers:[],classes:[],currentPage:1,itemsPerPage:25,theme:localStorage.getItem("theme")||"light"},elements={preloader:document.getElementById("preloader"),authSection:document.getElementById("authSection"),schoolSetupSection:document.getElementById("schoolSetupSection"),uploadSection:document.getElementById("uploadSection"),mainDashboard:document.getElementById("mainDashboard"),email:document.getElementById("email"),password:document.getElementById("password"),userRole:document.getElementById("userRole"),loginBtn:document.getElementById("loginBtn"),registerBtn:document.getElementById("registerBtn"),togglePassword:document.getElementById("togglePassword"),logoutBtn:document.getElementById("logoutBtn"),themeToggle:document.getElementById("themeToggle"),schoolName:document.getElementById("schoolName"),schoolCode:document.getElementById("schoolCode"),province:document.getElementById("province"),schoolPhone:document.getElementById("schoolPhone"),saveSchoolBtn:document.getElementById("saveSchoolBtn"),studentsFile:document.getElementById("studentsFile"),teachersFile:document.getElementById("teachersFile"),downloadTemplateBtn:document.getElementById("downloadTemplateBtn"),uploadFilesBtn:document.getElementById("uploadFilesBtn"),uploadProgress:document.getElementById("uploadProgress"),progressBar:document.getElementById("progressBar"),progressText:document.getElementById("progressText"),progressPercent:document.getElementById("progressPercent"),navTabs:document.querySelectorAll(".nav-tab"),adminTab:document.getElementById("adminTab"),totalStudents:document.getElementById("totalStudents"),totalTeachers:document.getElementById("totalTeachers"),attendanceRate:document.getElementById("attendanceRate"),avgGrade:document.getElementById("avgGrade"),studentSearch:document.getElementById("studentSearch"),addStudentBtn:document.getElementById("addStudentBtn"),exportStudentsBtn:document.getElementById("exportStudentsBtn"),studentsTable:document.getElementById("studentsTable"),pageSize:document.getElementById("pageSize"),currentPage:document.getElementById("currentPage"),totalPages:document.getElementById("totalPages"),prevPageBtn:document.getElementById("prevPageBtn"),nextPageBtn:document.getElementById("nextPageBtn"),teachersTable:document.getElementById("teachersTable"),attendanceDate:document.getElementById("attendanceDate"),attendanceClass:document.getElementById("attendanceClass"),attendanceTableContainer:document.getElementById("attendanceTableContainer"),saveAttendanceBtn:document.getElementById("saveAttendanceBtn"),gradesClass:document.getElementById("gradesClass"),gradesSubject:document.getElementById("gradesSubject"),gradesTableContainer:document.getElementById("gradesTableContainer"),saveGradesBtn:document.getElementById("saveGradesBtn"),reportType:document.getElementById("reportType"),reportMonth:document.getElementById("reportMonth"),reportClass:document.getElementById("reportClass"),generateReportBtn:document.getElementById("generateReportBtn"),printReportBtn:document.getElementById("printReportBtn"),exportReportBtn:document.getElementById("exportReportBtn"),reportOutput:document.getElementById("reportOutput"),usersList:document.getElementById("usersList"),systemStats:document.getElementById("systemStats"),backupBtn:document.getElementById("backupBtn"),saveSettingsBtn:document.getElementById("saveSettingsBtn"),fabBtn:document.getElementById("fabBtn"),authAlert:document.getElementById("authAlert")};class Utils{static showNotification(e,t="info",s=5e3){const n=document.createElement("div");n.className=`alert alert-${t}`,n.style.cssText="\n                    animation: fadeIn 0.3s ease;\n                    margin-bottom: 10px;\n                    cursor: pointer;\n                    position: relative;\n                    z-index: 2000;\n                ";const a="success"===t?"check-circle":"error"===t?"exclamation-circle":"warning"===t?"exclamation-triangle":"info-circle";n.innerHTML=`\n                    <i class="fas fa-${a}"></i>\n                    <span>${e}</span>\n                    <button style="margin-right: auto; background: none; border: none; color: inherit; cursor: pointer;">\n                        <i class="fas fa-times"></i>\n                    </button>\n                `;const o=document.getElementById("notificationContainer");o&&(o.appendChild(n),n.querySelector("button").addEventListener("click",(()=>n.remove())),s>0&&setTimeout((()=>{n.parentNode&&(n.style.opacity="0",setTimeout((()=>n.remove()),300))}),s))}static formatDate(e){if(!e)return"";return new Date(e).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})}static formatNumber(e){return new Intl.NumberFormat("ar-EG").format(e)}static debounce(e,t){let s;return function(...n){clearTimeout(s),s=setTimeout((()=>{clearTimeout(s),e(...n)}),t)}}static validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}static escapeHTML(e){return null==e?"":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}static async readExcelFile(e){return new Promise(((t,s)=>{const n=new FileReader;n.onload=e=>{try{const s=new Uint8Array(e.target.result),n=XLSX.read(s,{type:"array"}),a=n.Sheets[n.SheetNames[0]],o=XLSX.utils.sheet_to_json(a);t(o)}catch(e){s(e)}},n.onerror=s,n.readAsArrayBuffer(e)}))}}class AuthManager{static async register(e,t,s){try{const n=(await createUserWithEmailAndPassword(auth,e,t)).user;return await setDoc(doc(db,"users",n.uid),{email:e,role:s,createdAt:serverTimestamp(),lastLogin:serverTimestamp(),status:"active"}),Utils.showNotification("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­!","success"),n}catch(e){return console.error("Registration error:",e),Utils.showNotification(this.getAuthErrorMessage(e),"error"),null}}static async login(e,t){try{const s=(await signInWithEmailAndPassword(auth,e,t)).user;await updateDoc(doc(db,"users",s.uid),{lastLogin:serverTimestamp()});const n=await getDoc(doc(db,"users",s.uid));return n.exists()&&(AppState.userRole=n.data().role),AppState.currentUser=s,Utils.showNotification("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!","success"),s}catch(e){return console.error("Login error:",e),Utils.showNotification(this.getAuthErrorMessage(e),"error"),null}}static async logout(){try{await signOut(auth),AppState.currentUser=null,AppState.userRole=null,AppState.currentSchool=null,elements.authSection.classList.remove("hidden"),elements.mainDashboard.classList.add("hidden"),elements.logoutBtn.classList.add("hidden"),Utils.showNotification("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­","info")}catch(e){console.error("Logout error:",e)}}static getAuthErrorMessage(e){return{"auth/email-already-in-use":"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„","auth/invalid-email":"Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­","auth/weak-password":"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ©","auth/wrong-password":"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©","auth/user-not-found":"Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯","auth/network-request-failed":"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø´Ø¨ÙƒØ©"}[e.code]||"Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹"}}class SchoolManager{static async createSchool(e){try{if(!e.name||!e.code)throw new Error("Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙˆØ±Ù‚Ù…Ù‡Ø§ Ù…Ø·Ù„ÙˆØ¨Ø§Ù†");const t=doc(db,"schools",e.code);if((await getDoc(t)).exists())throw new Error("Ø±Ù‚Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„");const s={...e,adminId:AppState.currentUser.uid,adminEmail:AppState.currentUser.email,createdAt:serverTimestamp(),updatedAt:serverTimestamp(),totalStudents:0,totalTeachers:0};return await setDoc(t,s),await updateDoc(doc(db,"users",AppState.currentUser.uid),{schoolCode:e.code,schoolName:e.name}),AppState.currentSchool=s,localStorage.setItem("currentSchool",JSON.stringify(s)),!0}catch(e){return console.error("Create school error:",e),Utils.showNotification(e.message,"error"),!1}}static async loadSchool(e){try{const t=await getDoc(doc(db,"schools",e));return!!t.exists()&&(AppState.currentSchool={id:t.id,...t.data()},!0)}catch(e){return console.error("Load school error:",e),!1}}}class StudentsManager{static students=[];static filteredStudents=[];static currentPage=1;static itemsPerPage=25;static async loadStudents(){try{if(!AppState.currentSchool)return;const e=collection(db,"schools",AppState.currentSchool.id,"students"),t=await getDocs(e);return this.students=[],t.forEach((e=>{this.students.push({id:e.id,...e.data()})})),this.filteredStudents=[...this.students],this.renderTable(),this.updateStats(),!0}catch(e){return console.error("Load students error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°","error"),!1}}static async addStudent(e){try{if(!AppState.currentSchool)return!1;const t=doc(collection(db,"schools",AppState.currentSchool.id,"students")),s={...e,schoolCode:AppState.currentSchool.id,createdAt:serverTimestamp(),updatedAt:serverTimestamp(),status:"active"};return await setDoc(t,s),await updateDoc(doc(db,"schools",AppState.currentSchool.id),{totalStudents:(AppState.currentSchool.totalStudents||0)+1}),this.students.unshift({id:t.id,...s}),this.filteredStudents.unshift({id:t.id,...s}),this.renderTable(),this.updateStats(),Utils.showNotification("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙ„Ù…ÙŠØ° Ø¨Ù†Ø¬Ø§Ø­!","success"),!0}catch(e){return console.error("Add student error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙ„Ù…ÙŠØ°","error"),!1}}static async deleteStudent(e){try{return await deleteDoc(doc(db,"schools",AppState.currentSchool.id,"students",e)),await updateDoc(doc(db,"schools",AppState.currentSchool.id),{totalStudents:(AppState.currentSchool.totalStudents||1)-1}),this.students=this.students.filter((t=>t.id!==e)),this.filteredStudents=this.filteredStudents.filter((t=>t.id!==e)),this.renderTable(),this.updateStats(),Utils.showNotification("ØªÙ… Ø­Ø°Ù Ø§Ù„ØªÙ„Ù…ÙŠØ° Ø¨Ù†Ø¬Ø§Ø­!","success"),!0}catch(e){return console.error("Delete student error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ØªÙ„Ù…ÙŠØ°","error"),!1}}static async updateStudent(e,t){try{await updateDoc(doc(db,"schools",AppState.currentSchool.id,"students",e),{...t,updatedAt:serverTimestamp()});const s=this.students.findIndex((t=>t.id===e));return-1!==s&&(this.students[s]={...this.students[s],...t},this.filteredStudents[s]={...this.filteredStudents[s],...t}),this.renderTable(),Utils.showNotification("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ„Ù…ÙŠØ° Ø¨Ù†Ø¬Ø§Ø­!","success"),!0}catch(e){return console.error("Update student error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ„Ù…ÙŠØ°","error"),!1}}static searchStudents(e){const t=e.toLowerCase().trim();this.filteredStudents=t?this.students.filter((e=>e.firstName&&e.firstName.toLowerCase().includes(t)||e.lastName&&e.lastName.toLowerCase().includes(t)||e.class&&e.class.toLowerCase().includes(t)||e.parentPhone&&e.parentPhone.includes(t))):[...this.students],this.currentPage=1,this.renderTable()}static renderTable(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage,s=this.filteredStudents.slice(e,t);let n="";0===s.length?n='\n                        <tr>\n                            <td colspan="8" class="text-center" style="padding: 40px;">\n                                <div style="font-size: 48px; color: #ddd; margin-bottom: 10px;">\n                                    <i class="fas fa-users-slash"></i>\n                                </div>\n                                <div style="color: var(--gray-color);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¹Ø±Ø¶</div>\n                            </td>\n                        </tr>\n                    ':s.forEach(((t,s)=>{const a=e+s+1,o=t.photoUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.firstName||"")}+${encodeURIComponent(t.lastName||"")}&background=006233&color=fff`;n+=`\n                            <tr>\n                                <td>${a}</td>\n                                <td>\n                                    <img src="${o}" alt="${t.firstName}" \n                                         style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover;">\n                                </td>\n                                <td>\n                                    <strong>${t.firstName||""} ${t.lastName||""}</strong><br>\n                                    <small style="color: var(--gray-color);">${t.id}</small>\n                                </td>\n                                <td>\n                                    <span class="badge badge-success">${t.class||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}</span>\n                                </td>\n                                <td>${Utils.formatDate(t.birthDate)}</td>\n                                <td>${t.parentPhone||"ØºÙŠØ± Ù…ØªÙˆÙØ±"}</td>\n                                <td>\n                                    <span class="badge ${"active"===t.status?"badge-success":"badge-danger"}">\n                                        ${"active"===t.status?"Ù†Ø´Ø·":"ØºÙŠØ± Ù†Ø´Ø·"}\n                                    </span>\n                                </td>\n                                <td>\n                                    <div style="display: flex; gap: 5px; justify-content: center;">\n                                        <button class="btn btn-sm btn-view" data-id="${t.id}"\n                                                style="background: var(--primary-light); color: var(--primary-color);">\n                                            <i class="fas fa-eye"></i>\n                                        </button>\n                                        <button class="btn btn-sm btn-edit" data-id="${t.id}"\n                                                style="background: var(--warning-color); color: white;">\n                                            <i class="fas fa-edit"></i>\n                                        </button>\n                                        <button class="btn btn-sm btn-delete" data-id="${t.id}"\n                                                style="background: var(--danger-color); color: white;">\n                                            <i class="fas fa-trash"></i>\n                                        </button>\n                                    </div>\n                                </td>\n                            </tr>\n                        `})),elements.studentsTable.innerHTML=n,this.attachEventListeners(),this.updatePagination()}static attachEventListeners(){elements.studentsTable.querySelectorAll(".btn-view").forEach((e=>{e.addEventListener("click",(()=>this.viewStudent(e.dataset.id)))})),elements.studentsTable.querySelectorAll(".btn-edit").forEach((e=>{e.addEventListener("click",(()=>this.editStudent(e.dataset.id)))})),elements.studentsTable.querySelectorAll(".btn-delete").forEach((e=>{e.addEventListener("click",(()=>this.deleteStudent(e.dataset.id)))}))}static updatePagination(){const e=Math.max(1,Math.ceil(this.filteredStudents.length/this.itemsPerPage));elements.currentPage.textContent=this.currentPage,elements.totalPages.textContent=e,elements.prevPageBtn.disabled=this.currentPage<=1,elements.nextPageBtn.disabled=this.currentPage>=e}static viewStudent(e){const t=this.students.find((t=>t.id===e));t&&Swal.fire({title:`${t.firstName} ${t.lastName}`,html:`\n                        <div style="text-align: right;">\n                            <img src="${t.photoUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.firstName||"")}+${encodeURIComponent(t.lastName||"")}&background=006233&color=fff`}" \n                                 style="width: 100px; height: 100px; border-radius: 50%; margin-bottom: 20px;">\n                            <p><strong>Ø±Ù‚Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„:</strong> ${t.id}</p>\n                            <p><strong>Ø§Ù„Ù‚Ø³Ù…:</strong> ${t.class||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}</p>\n                            <p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯:</strong> ${Utils.formatDate(t.birthDate)}</p>\n                            <p><strong>Ù‡Ø§ØªÙ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±:</strong> ${t.parentPhone||"ØºÙŠØ± Ù…ØªÙˆÙØ±"}</p>\n                            <p><strong>Ø§Ù„Ø¬Ù†Ø³:</strong> ${t.gender||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}</p>\n                            <p><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> <span class="${"active"===t.status?"text-success":"text-danger"}">${"active"===t.status?"Ù†Ø´Ø·":"ØºÙŠØ± Ù†Ø´Ø·"}</span></p>\n                            <p><strong>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„:</strong> ${Utils.formatDate(t.createdAt?.toDate())}</p>\n                        </div>\n                    `,icon:"info",confirmButtonText:"Ø­Ø³Ù†Ø§Ù‹"})}static async editStudent(e){const t=this.students.find((t=>t.id===e));if(!t)return;const{value:s}=await Swal.fire({title:"ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ„Ù…ÙŠØ°",html:`\n                        <input id="edit-firstName" class="swal2-input" placeholder="Ø§Ù„Ø§Ø³Ù…" value="${t.firstName||""}">\n                        <input id="edit-lastName" class="swal2-input" placeholder="Ø§Ù„Ù„Ù‚Ø¨" value="${t.lastName||""}">\n                        <input id="edit-class" class="swal2-input" placeholder="Ø§Ù„Ù‚Ø³Ù…" value="${t.class||""}">\n                        <input id="edit-birthDate" type="date" class="swal2-input" placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯" value="${t.birthDate||""}">\n                        <input id="edit-parentPhone" class="swal2-input" placeholder="Ù‡Ø§ØªÙ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±" value="${t.parentPhone||""}">\n                        <select id="edit-gender" class="swal2-input">\n                            <option value="male" ${"male"===t.gender?"selected":""}>Ø°ÙƒØ±</option>\n                            <option value="female" ${"female"===t.gender?"selected":""}>Ø£Ù†Ø«Ù‰</option>\n                        </select>\n                    `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"ØªØ­Ø¯ÙŠØ«",cancelButtonText:"Ø¥Ù„ØºØ§Ø¡",preConfirm:()=>({firstName:document.getElementById("edit-firstName").value,lastName:document.getElementById("edit-lastName").value,class:document.getElementById("edit-class").value,birthDate:document.getElementById("edit-birthDate").value,parentPhone:document.getElementById("edit-parentPhone").value,gender:document.getElementById("edit-gender").value})});s&&await this.updateStudent(e,s)}static async exportToExcel(){if(0===this.filteredStudents.length)return void Utils.showNotification("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±","warning");const e=this.filteredStudents.map((e=>({"Ø±Ù‚Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„":e.id,"Ø§Ù„Ø§Ø³Ù…":e.firstName||"","Ø§Ù„Ù„Ù‚Ø¨":e.lastName||"","Ø§Ù„Ù‚Ø³Ù…":e.class||"","ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯":e.birthDate||"","Ù‡Ø§ØªÙ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±":e.parentPhone||"","Ø§Ù„Ø¬Ù†Ø³":"male"===e.gender?"Ø°ÙƒØ±":"female"===e.gender?"Ø£Ù†Ø«Ù‰":"ØºÙŠØ± Ù…Ø­Ø¯Ø¯","Ø§Ù„Ø­Ø§Ù„Ø©":"active"===e.status?"Ù†Ø´Ø·":"ØºÙŠØ± Ù†Ø´Ø·"}))),t=XLSX.utils.json_to_sheet(e),s=XLSX.utils.book_new();XLSX.utils.book_append_sheet(s,t,"Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°");const n=`ØªÙ„Ø§Ù…ÙŠØ°_${AppState.currentSchool?.id||"Ù…Ø¯Ø±Ø³Ø©"}_${(new Date).toISOString().split("T")[0]}.xlsx`;XLSX.writeFile(s,n),Utils.showNotification("ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!","success")}static updateStats(){elements.totalStudents&&(elements.totalStudents.textContent=Utils.formatNumber(this.students.length))}}class TeachersManager{static teachers=[];static async loadTeachers(){}}class FileUploadManager{static async processExcelFiles(){const e=elements.studentsFile.files[0],t=elements.teachersFile.files[0];if(e&&t)try{elements.uploadProgress.classList.remove("hidden"),await this.updateProgress(10,"Ø¬Ø§Ø±ÙŠ Ù‚Ø±Ø§Ø¡Ø© Ù…Ù„Ù Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°...");const s=await Utils.readExcelFile(e);await this.updateProgress(40,"Ø¬Ø§Ø±ÙŠ Ù‚Ø±Ø§Ø¡Ø© Ù…Ù„Ù Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©...");const n=await Utils.readExcelFile(t);await this.updateProgress(70,"Ø¬Ø§Ø±ÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª..."),await this.saveToFirebase(s,n),await this.updateProgress(100,"ØªÙ… Ø±ÙØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!"),Utils.showNotification("ØªÙ… Ø±ÙØ¹ ÙˆÙ…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­","success"),setTimeout((()=>{elements.uploadProgress.classList.add("hidden"),UIManager.showDashboard()}),1e3)}catch(e){console.error("File upload error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ù„ÙØ§Øª: "+e.message,"error"),elements.uploadProgress.classList.add("hidden")}else Utils.showNotification("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„ÙÙŠ Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ° ÙˆØ§Ù„Ø£Ø³Ø§ØªØ°Ø©","warning")}static async saveToFirebase(e,t){const s=writeBatch(db);for(const t of e){const e=doc(collection(db,"schools",AppState.currentSchool.id,"students"));s.set(e,{firstName:t["Ø§Ù„Ø§Ø³Ù…"]||t.firstName||"",lastName:t["Ø§Ù„Ù„Ù‚Ø¨"]||t.lastName||"",class:t["Ø§Ù„Ù‚Ø³Ù…"]||t.class||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",birthDate:t["ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯"]||t.birthDate||"",gender:t["Ø§Ù„Ø¬Ù†Ø³"]||t.gender||"",parentPhone:t["Ù‡Ø§ØªÙ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±"]||t.parentPhone||"",schoolCode:AppState.currentSchool.id,createdAt:serverTimestamp(),status:"active"})}for(const e of t){const t=doc(collection(db,"schools",AppState.currentSchool.id,"teachers"));s.set(t,{fullName:e["Ø§Ù„Ø§Ø³Ù…"]||e.fullName||"",subject:e["Ø§Ù„Ù…Ø§Ø¯Ø©"]||e.subject||"",email:e["Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"]||e.email||"",phone:e["Ø§Ù„Ù‡Ø§ØªÙ"]||e.phone||"",hireDate:e["ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ†"]||e.hireDate||"",schoolCode:AppState.currentSchool.id,createdAt:serverTimestamp(),status:"active"})}const n=doc(db,"schools",AppState.currentSchool.id);s.update(n,{totalStudents:e.length,totalTeachers:t.length,updatedAt:serverTimestamp()}),await s.commit()}static async updateProgress(e,t){elements.progressBar&&(elements.progressBar.style.width=e+"%"),elements.progressText&&(elements.progressText.textContent=t),elements.progressPercent&&(elements.progressPercent.textContent=Math.round(e)+"%"),await new Promise((e=>setTimeout(e,100)))}static downloadTemplate(){const e=XLSX.utils.json_to_sheet([{"Ø§Ù„Ù„Ù‚Ø¨":"Ø§Ù„Ø¹Ø¨Ø³ÙŠ","Ø§Ù„Ø§Ø³Ù…":"Ø£Ø­Ù…Ø¯","Ø§Ù„Ù‚Ø³Ù…":"Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰","ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯":"2015-01-15","Ø§Ù„Ø¬Ù†Ø³":"Ø°ÙƒØ±","Ù‡Ø§ØªÙ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±":"0551234567"}]),t=XLSX.utils.book_new();XLSX.utils.book_append_sheet(t,e,"Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°"),XLSX.writeFile(t,"Ù‚Ø§Ù„Ø¨_Ø¨ÙŠØ§Ù†Ø§Øª_Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°.xlsx"),Utils.showNotification("ØªÙ… ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°","success")}}class UIManager{static init(){this.hidePreloader(),this.setupEventListeners(),this.setupAuthListener(),this.setupDateDefaults()}static hidePreloader(){setTimeout((()=>{elements.preloader.style.opacity="0",setTimeout((()=>{elements.preloader.style.display="none"}),500)}),1e3)}static setupEventListeners(){elements.themeToggle.addEventListener("click",(()=>this.toggleTheme())),elements.loginBtn.addEventListener("click",(()=>this.handleLogin())),elements.registerBtn.addEventListener("click",(()=>this.handleRegister())),elements.togglePassword.addEventListener("click",(()=>this.togglePasswordVisibility())),elements.logoutBtn.addEventListener("click",(()=>AuthManager.logout())),elements.saveSchoolBtn.addEventListener("click",(()=>this.handleSaveSchool())),elements.downloadTemplateBtn.addEventListener("click",(()=>FileUploadManager.downloadTemplate())),elements.uploadFilesBtn.addEventListener("click",(()=>FileUploadManager.processExcelFiles())),elements.navTabs.forEach((e=>{e.addEventListener("click",(()=>this.switchSection(e.dataset.section)))})),elements.studentSearch.addEventListener("input",Utils.debounce((()=>StudentsManager.searchStudents(elements.studentSearch.value)),300)),elements.addStudentBtn.addEventListener("click",(()=>this.showAddStudentModal())),elements.exportStudentsBtn.addEventListener("click",(()=>StudentsManager.exportToExcel())),elements.pageSize.addEventListener("change",(()=>{StudentsManager.itemsPerPage=parseInt(elements.pageSize.value),StudentsManager.currentPage=1,StudentsManager.renderTable()})),elements.prevPageBtn.addEventListener("click",(()=>{StudentsManager.currentPage>1&&(StudentsManager.currentPage--,StudentsManager.renderTable())})),elements.nextPageBtn.addEventListener("click",(()=>{const e=Math.ceil(StudentsManager.filteredStudents.length/StudentsManager.itemsPerPage);StudentsManager.currentPage<e&&(StudentsManager.currentPage++,StudentsManager.renderTable())})),elements.fabBtn.addEventListener("click",(()=>this.showQuickActions())),document.addEventListener("keydown",(e=>{e.ctrlKey&&"k"===e.key&&(e.preventDefault(),elements.studentSearch.focus()),"Escape"===e.key&&document.querySelectorAll(".alert").forEach((e=>e.remove()))}))}static setupAuthListener(){onAuthStateChanged(auth,(async e=>{if(e){AppState.currentUser=e,elements.logoutBtn.classList.remove("hidden");const t=await getDoc(doc(db,"users",e.uid));if(t.exists()){const e=t.data();AppState.userRole=e.role,e.schoolCode?(await SchoolManager.loadSchool(e.schoolCode),this.showDashboard()):"admin"===e.role&&this.showSchoolSetup()}}else AppState.currentUser=null,elements.authSection.classList.remove("hidden"),elements.mainDashboard.classList.add("hidden"),elements.logoutBtn.classList.add("hidden")}))}static setupDateDefaults(){const e=(new Date).toISOString().split("T")[0];elements.attendanceDate&&(elements.attendanceDate.value=e);const t=(new Date).toISOString().slice(0,7);elements.reportMonth&&(elements.reportMonth.value=t)}static async handleLogin(){const e=elements.email.value.trim(),t=elements.password.value.trim();e&&t?(elements.loginBtn.innerHTML='<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¯Ø®ÙˆÙ„...',elements.loginBtn.disabled=!0,await AuthManager.login(e,t),elements.loginBtn.innerHTML='<i class="fas fa-sign-in-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',elements.loginBtn.disabled=!1):Utils.showNotification("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±","warning")}static async handleRegister(){const e=elements.email.value.trim(),t=elements.password.value.trim(),s=elements.userRole.value;e&&t&&s?Utils.validateEmail(e)?(elements.registerBtn.innerHTML='<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ³Ø¬ÙŠÙ„...',elements.registerBtn.disabled=!0,await AuthManager.register(e,t,s),elements.registerBtn.innerHTML='<i class="fas fa-user-plus"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯',elements.registerBtn.disabled=!1):Utils.showNotification("Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­","warning"):Utils.showNotification("Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù…Ø·Ù„ÙˆØ¨Ø©","warning")}static togglePasswordVisibility(){const e=elements.password,t=elements.togglePassword.querySelector("i");"password"===e.type?(e.type="text",t.className="fas fa-eye-slash"):(e.type="password",t.className="fas fa-eye")}static toggleTheme(){"light"===AppState.theme?(document.documentElement.setAttribute("data-theme","dark"),elements.themeToggle.innerHTML='<i class="fas fa-sun"></i> Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­',AppState.theme="dark",localStorage.setItem("theme","dark")):(document.documentElement.removeAttribute("data-theme"),elements.themeToggle.innerHTML='<i class="fas fa-moon"></i> Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†',AppState.theme="light",localStorage.setItem("theme","light"))}static async handleSaveSchool(){const e={name:elements.schoolName.value.trim(),code:elements.schoolCode.value.trim(),province:elements.province.value,phone:elements.schoolPhone.value.trim()};elements.saveSchoolBtn.innerHTML='<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...',elements.saveSchoolBtn.disabled=!0;await SchoolManager.createSchool(e)&&this.showUploadSection(),elements.saveSchoolBtn.innerHTML='<i class="fas fa-save"></i> Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¤Ø³Ø³Ø© ÙˆØ§Ù„Ù…ØªØ§Ø¨Ø¹Ø©',elements.saveSchoolBtn.disabled=!1}static showSchoolSetup(){elements.authSection.classList.add("hidden"),elements.schoolSetupSection.classList.remove("hidden")}static showUploadSection(){elements.schoolSetupSection.classList.add("hidden"),elements.uploadSection.classList.remove("hidden")}static async showDashboard(){elements.authSection.classList.add("hidden"),elements.schoolSetupSection.classList.add("hidden"),elements.uploadSection.classList.add("hidden"),elements.mainDashboard.classList.remove("hidden"),"admin"===AppState.userRole&&elements.adminTab.classList.remove("hidden"),await Promise.all([StudentsManager.loadStudents(),TeachersManager.loadTeachers()]),this.initCharts()}static switchSection(e){elements.navTabs.forEach((t=>{t.classList.toggle("active",t.dataset.section===e)})),document.querySelectorAll(".dashboard-section").forEach((e=>{e.classList.add("hidden")}));const t=document.getElementById(e);t&&t.classList.remove("hidden")}static showAddStudentModal(){Swal.fire({title:"Ø¥Ø¶Ø§ÙØ© ØªÙ„Ù…ÙŠØ° Ø¬Ø¯ÙŠØ¯",html:'\n                        <input id="add-firstName" class="swal2-input" placeholder="Ø§Ù„Ø§Ø³Ù…">\n                        <input id="add-lastName" class="swal2-input" placeholder="Ø§Ù„Ù„Ù‚Ø¨">\n                        <input id="add-class" class="swal2-input" placeholder="Ø§Ù„Ù‚Ø³Ù…">\n                        <input id="add-birthDate" type="date" class="swal2-input" placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯">\n                        <input id="add-parentPhone" class="swal2-input" placeholder="Ù‡Ø§ØªÙ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±">\n                        <select id="add-gender" class="swal2-input">\n                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³</option>\n                            <option value="male">Ø°ÙƒØ±</option>\n                            <option value="female">Ø£Ù†Ø«Ù‰</option>\n                        </select>\n                    ',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Ø¥Ø¶Ø§ÙØ©",cancelButtonText:"Ø¥Ù„ØºØ§Ø¡",preConfirm:()=>({firstName:document.getElementById("add-firstName").value,lastName:document.getElementById("add-lastName").value,class:document.getElementById("add-class").value,birthDate:document.getElementById("add-birthDate").value,parentPhone:document.getElementById("add-parentPhone").value,gender:document.getElementById("add-gender").value})}).then((async e=>{e.isConfirmed&&e.value&&await StudentsManager.addStudent(e.value)}))}static showQuickActions(){const e={"Ø¥Ø¶Ø§ÙØ© ØªÙ„Ù…ÙŠØ°":()=>this.showAddStudentModal(),"Ø¥Ø¶Ø§ÙØ© Ø£Ø³ØªØ§Ø°":()=>this.showAddTeacherModal(),"ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ±":()=>this.switchSection("attendance"),"Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ±":()=>this.switchSection("reports"),"Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©":()=>this.createBackup()};Swal.fire({title:"Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø³Ø±ÙŠØ¹Ø©",html:Object.keys(e).map((e=>`<button class="btn btn-primary" style="margin: 5px; width: 200px;" onclick="UIManager.quickAction('${e}')">${e}</button>`)).join("<br>"),showConfirmButton:!1,showCloseButton:!0})}static quickAction(e){const t={"Ø¥Ø¶Ø§ÙØ© ØªÙ„Ù…ÙŠØ°":()=>this.showAddStudentModal(),"Ø¥Ø¶Ø§ÙØ© Ø£Ø³ØªØ§Ø°":()=>this.showAddTeacherModal(),"ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ±":()=>this.switchSection("attendance"),"Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ±":()=>this.switchSection("reports"),"Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©":()=>this.createBackup()};Swal.close(),t[e]&&t[e]()}static async createBackup(){try{Utils.showNotification("Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©...","info");const e={school:AppState.currentSchool,students:StudentsManager.students,teachers:TeachersManager.teachers,timestamp:(new Date).toISOString()},t=JSON.stringify(e,null,2),s=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(s),a=document.createElement("a");a.href=n,a.download=`backup_${AppState.currentSchool?.id}_${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n),Utils.showNotification("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!","success")}catch(e){console.error("Backup error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©","error")}}static initCharts(){const e=document.getElementById("classesChart");if(e){const t={};StudentsManager.students.forEach((e=>{const s=e.class||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯";t[s]=(t[s]||0)+1})),new Chart(e,{type:"pie",data:{labels:Object.keys(t),datasets:[{data:Object.values(t),backgroundColor:["#006233","#2E7D32","#4CAF50","#81C784","#2196F3","#1976D2","#FF9800","#FF5722"]}]},options:{responsive:!0,plugins:{legend:{position:"bottom",rtl:!0,labels:{font:{family:"Cairo",size:12}}}}}})}}static showAddTeacherModal(){Swal.fire({title:"Ø¥Ø¶Ø§ÙØ© Ø£Ø³ØªØ§Ø° Ø¬Ø¯ÙŠØ¯",html:'\n                        <input id="add-teacherName" class="swal2-input" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">\n                        <input id="add-teacherSubject" class="swal2-input" placeholder="Ø§Ù„Ù…Ø§Ø¯Ø©">\n                        <input id="add-teacherEmail" class="swal2-input" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">\n                        <input id="add-teacherPhone" class="swal2-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">\n                        <input id="add-teacherHireDate" type="date" class="swal2-input" placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ†">\n                    ',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Ø¥Ø¶Ø§ÙØ©",cancelButtonText:"Ø¥Ù„ØºØ§Ø¡"}).then((async e=>{e.isConfirmed&&Utils.showNotification("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø³ØªØ§Ø° Ø¨Ù†Ø¬Ø§Ø­","success")}))}}document.addEventListener("DOMContentLoaded",(()=>{UIManager.init();const e=(new Date).toISOString().split("T")[0];elements.attendanceDate&&(elements.attendanceDate.value=e,elements.attendanceDate.max=e);const t=(new Date).toISOString().slice(0,7);elements.reportMonth&&(elements.reportMonth.value=t),"dark"===AppState.theme&&(document.documentElement.setAttribute("data-theme","dark"),elements.themeToggle.innerHTML='<i class="fas fa-sun"></i> Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­')})),window.UIManager=UIManager,window.StudentsManager=StudentsManager,"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/sw.js").then((e=>{console.log("ServiceWorker registered:",e)})).catch((e=>{console.log("ServiceWorker registration failed:",e)}))})),window.addEventListener("online",(()=>{Utils.showNotification("ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª","success")})),window.addEventListener("offline",(()=>{Utils.showNotification("Ø£Ù†Øª ØºÙŠØ± Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª","warning")}));class ImportManager{static async importStudentsFromExcel(e){try{const t=await Utils.readExcelFile(e);if(!t||0===t.length)throw new Error("Ø§Ù„Ù…Ù„Ù ÙØ§Ø±Øº Ø£Ùˆ Ù„Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª");return this.showPreview(t),this.showImportModal(),sessionStorage.setItem("pendingImport",JSON.stringify(t)),t}catch(e){return console.error("Import error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù: "+e.message,"error"),null}}static showPreview(e){const t=document.getElementById("importPreview"),s=document.getElementById("previewTable");if(!t||!s)return;const n=e.slice(0,5);let a=`\n            <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø¬Ù„Ø§Øª: <strong>${e.length}</strong></p>\n            <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">\n                <thead>\n                    <tr style="background: var(--primary-light);">\n                        <th style="padding: 8px; border: 1px solid #ddd;">#</th>\n                        <th style="padding: 8px; border: 1px solid #ddd;">Ø§Ù„Ø§Ø³Ù…</th>\n                        <th style="padding: 8px; border: 1px solid #ddd;">Ø§Ù„Ù‚Ø³Ù…</th>\n                        <th style="padding: 8px; border: 1px solid #ddd;">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</th>\n                    </tr>\n                </thead>\n                <tbody>\n        `;n.forEach(((e,t)=>{a+=`\n                <tr>\n                    <td style="padding: 8px; border: 1px solid #ddd;">${t+1}</td>\n                    <td style="padding: 8px; border: 1px solid #ddd;">${e["Ø§Ù„Ø§Ø³Ù…"]||""} ${e["Ø§Ù„Ù„Ù‚Ø¨"]||""}</td>\n                    <td style="padding: 8px; border: 1px solid #ddd;">${e["Ø§Ù„Ù‚Ø³Ù…"]||""}</td>\n                    <td style="padding: 8px; border: 1px solid #ddd;">${e["ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯"]||""}</td>\n                </tr>\n            `})),a+="</tbody></table>",s.innerHTML=a,t.classList.remove("hidden")}static showImportModal(){const e=document.getElementById("importModal");e&&e.classList.remove("hidden")}static hideImportModal(){const e=document.getElementById("importModal");e&&e.classList.add("hidden")}static async processImport(){const e=JSON.parse(sessionStorage.getItem("pendingImport")||"[]");if(!e.length)return void Utils.showNotification("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯","warning");const t=document.getElementById("importProgressBar"),s=document.getElementById("importStatusText"),n=document.getElementById("importPercent"),a=document.getElementById("startImportBtn");document.getElementById("importProgress").classList.remove("hidden"),a.disabled=!0;try{let o=0,r=0;for(let a=0;a<e.length;a++){const i=e[a],l=Math.round((a+1)/e.length*100);t&&(t.style.width=l+"%"),n&&(n.textContent=l+"%"),s&&(s.textContent=`Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø³Ø¬Ù„ ${a+1} Ù…Ù† ${e.length}`);try{await StudentsManager.addStudent({firstName:i["Ø§Ù„Ø§Ø³Ù…"]||i.firstName||"",lastName:i["Ø§Ù„Ù„Ù‚Ø¨"]||i.lastName||"",class:i["Ø§Ù„Ù‚Ø³Ù…"]||i.class||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯",birthDate:i["ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯"]||i.birthDate||"",parentPhone:i["Ù‡Ø§ØªÙ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±"]||i.parentPhone||"",gender:i["Ø§Ù„Ø¬Ù†Ø³"]||i.gender||"",status:"active"}),o++}catch(e){console.error("Error importing student:",i,e),r++}await new Promise((e=>setTimeout(e,100)))}Utils.showNotification(`ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ ${o} ØªÙ„Ù…ÙŠØ° Ø¨Ù†Ø¬Ø§Ø­${r>0?`ØŒ ${r} ÙØ´Ù„ÙˆØ§`:""}`,"success"),this.hideImportModal(),StudentsManager.loadStudents()}catch(e){console.error("Import process error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯","error")}finally{sessionStorage.removeItem("pendingImport"),a&&(a.disabled=!1)}}}document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("importStudentsBtn");e&&e.addEventListener("click",(function(){const e=document.createElement("input");e.type="file",e.accept=".xlsx,.xls",e.style.display="none",e.addEventListener("change",(function(e){e.target.files.length>0&&ImportManager.importStudentsFromExcel(e.target.files[0])})),document.body.appendChild(e),e.click(),document.body.removeChild(e)}));const t=document.getElementById("startImportBtn");t&&t.addEventListener("click",(function(){ImportManager.processImport()}));const s=document.getElementById("closeImportModal");s&&s.addEventListener("click",(function(){ImportManager.hideImportModal(),sessionStorage.removeItem("pendingImport")}));const n=document.getElementById("cancelImportBtn");n&&n.addEventListener("click",(function(){ImportManager.hideImportModal(),sessionStorage.removeItem("pendingImport")}));const a=document.getElementById("studentImportFile");a&&a.addEventListener("change",(function(e){if(e.target.files.length>0){const t=document.getElementById("startImportBtn");t&&(t.disabled=!1),ImportManager.importStudentsFromExcel(e.target.files[0])}}));const o=document.getElementById("importModal");o&&o.addEventListener("click",(function(e){e.target===o&&(ImportManager.hideImportModal(),sessionStorage.removeItem("pendingImport"))}))}));class TeachersImportManager{static async exportToExcel(){try{if(!TeachersManager.teachers||0===TeachersManager.teachers.length)return void Utils.showNotification("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±","warning");const e=TeachersManager.teachers.map((e=>({"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„":e.fullName||"","Ø§Ù„Ù…Ø§Ø¯Ø©":e.subject||"","Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ":e.email||"","Ø§Ù„Ù‡Ø§ØªÙ":e.phone||"","ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ†":e.hireDate||"","Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…ÙƒÙ„Ù":e.assignedClass||"","Ø§Ù„Ø­Ø§Ù„Ø©":"active"===e.status?"Ù†Ø´Ø·":"ØºÙŠØ± Ù†Ø´Ø·"}))),t=XLSX.utils.json_to_sheet(e),s=XLSX.utils.book_new();XLSX.utils.book_append_sheet(s,t,"Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©");const n=`Ø£Ø³Ø§ØªØ°Ø©_${AppState.currentSchool?.id||"Ù…Ø¯Ø±Ø³Ø©"}_${(new Date).toISOString().split("T")[0]}.xlsx`;XLSX.writeFile(s,n),Utils.showNotification("ØªÙ… ØªØµØ¯ÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§ØªØ°Ø© Ø¨Ù†Ø¬Ø§Ø­!","success")}catch(e){console.error("Export teachers error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª","error")}}static async importFromExcel(e){try{const t=await Utils.readExcelFile(e);if(!t||0===t.length)throw new Error("Ø§Ù„Ù…Ù„Ù ÙØ§Ø±Øº Ø£Ùˆ Ù„Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª");const s=t.slice(0,3).map((e=>`- ${e["Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"]||e.fullName} (${e["Ø§Ù„Ù…Ø§Ø¯Ø©"]||e.subject})`)).join("<br>");Swal.fire({title:"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯",html:`\n                    <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©: <strong>${t.length}</strong></p>\n                    <p><strong>Ø£Ù…Ø«Ù„Ø©:</strong><br>${s}</p>\n                    <p>Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ØŸ</p>\n                `,icon:"question",showCancelButton:!0,confirmButtonText:"Ù†Ø¹Ù…ØŒ Ø§Ø³ØªÙŠØ±Ø§Ø¯",cancelButtonText:"Ø¥Ù„ØºØ§Ø¡"}).then((async e=>{e.isConfirmed&&await this.processTeachersImport(t)}))}catch(e){console.error("Import teachers error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù: "+e.message,"error")}}static async processTeachersImport(e){try{let t=0;for(const s of e)try{await this.addTeacher(s),t++}catch(e){console.error("Error importing teacher:",s,e)}Utils.showNotification(`ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ ${t} Ø£Ø³ØªØ§Ø° Ø¨Ù†Ø¬Ø§Ø­`,"success"),TeachersManager.loadTeachers&&await TeachersManager.loadTeachers()}catch(e){console.error("Process import error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯","error")}}static async addTeacher(e){try{const t=doc(collection(db,"schools",AppState.currentSchool.id,"teachers")),s={fullName:e["Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"]||e.fullName||"",subject:e["Ø§Ù„Ù…Ø§Ø¯Ø©"]||e.subject||"",email:e["Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"]||e.email||"",phone:e["Ø§Ù„Ù‡Ø§ØªÙ"]||e.phone||"",hireDate:e["ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ†"]||e.hireDate||(new Date).toISOString().split("T")[0],assignedClass:e["Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…ÙƒÙ„Ù"]||e.assignedClass||"",schoolCode:AppState.currentSchool.id,createdAt:serverTimestamp(),status:"active"};return await setDoc(t,s),!0}catch(e){throw console.error("Add teacher error:",e),e}}}document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("importTeachersBtn");e&&e.addEventListener("click",(function(){const e=document.createElement("input");e.type="file",e.accept=".xlsx,.xls",e.style.display="none",e.addEventListener("change",(function(e){e.target.files.length>0&&TeachersImportManager.importFromExcel(e.target.files[0])})),document.body.appendChild(e),e.click(),document.body.removeChild(e)}));const t=document.getElementById("exportTeachersBtn");t&&t.addEventListener("click",(function(){TeachersImportManager.exportToExcel()}));const s=document.getElementById("addTeacherBtn");s&&s.addEventListener("click",(function(){Swal.fire({title:"Ø¥Ø¶Ø§ÙØ© Ø£Ø³ØªØ§Ø° Ø¬Ø¯ÙŠØ¯",html:'\n                    <input id="swal-teacherName" class="swal2-input" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">\n                    <input id="swal-teacherSubject" class="swal2-input" placeholder="Ø§Ù„Ù…Ø§Ø¯Ø©">\n                    <input id="swal-teacherEmail" class="swal2-input" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">\n                    <input id="swal-teacherPhone" class="swal2-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">\n                    <input id="swal-teacherClass" class="swal2-input" placeholder="Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…ÙƒÙ„Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">\n                    <input id="swal-teacherHireDate" type="date" class="swal2-input" placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ¹ÙŠÙŠÙ†">\n                ',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Ø¥Ø¶Ø§ÙØ©",cancelButtonText:"Ø¥Ù„ØºØ§Ø¡",preConfirm:()=>({fullName:document.getElementById("swal-teacherName").value,subject:document.getElementById("swal-teacherSubject").value,email:document.getElementById("swal-teacherEmail").value,phone:document.getElementById("swal-teacherPhone").value,assignedClass:document.getElementById("swal-teacherClass").value,hireDate:document.getElementById("swal-teacherHireDate").value})}).then((async e=>{e.isConfirmed&&e.value&&(await TeachersImportManager.addTeacher(e.value),Utils.showNotification("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø³ØªØ§Ø° Ø¨Ù†Ø¬Ø§Ø­","success"),TeachersManager.loadTeachers&&await TeachersManager.loadTeachers())}))}))}));class ClassAssignmentManager{static async assignClassToTeacher(e,t){try{return!!AppState.currentSchool&&(await updateDoc(doc(db,"schools",AppState.currentSchool.id,"teachers",e),{assignedClass:t,updatedAt:serverTimestamp()}),Utils.showNotification("ØªÙ… Ø¥Ø³Ù†Ø§Ø¯ Ø§Ù„Ù‚Ø³Ù… Ø¨Ù†Ø¬Ø§Ø­","success"),!0)}catch(e){return console.error("Assign class error:",e),Utils.showNotification("Ø®Ø·Ø£ ÙÙŠ Ø¥Ø³Ù†Ø§Ø¯ Ø§Ù„Ù‚Ø³Ù…","error"),!1}}static showClassAssignmentModal(e){const t=this.extractClassesFromStudents();Swal.fire({title:`Ø¥Ø³Ù†Ø§Ø¯ Ù‚Ø³Ù… Ù„Ù„Ø£Ø³ØªØ§Ø°: ${e.fullName}`,html:`\n                <div style="text-align: right; margin-bottom: 15px;">\n                    <p><strong>Ø§Ù„Ù…Ø§Ø¯Ø©:</strong> ${e.subject||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}</p>\n                </div>\n                <select id="classAssignmentSelect" class="swal2-input" style="width: 100%;">\n                    <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù… --</option>\n                    ${t.map((t=>`<option value="${t}" ${e.assignedClass===t?"selected":""}>${t}</option>`)).join("")}\n                    <option value="custom">+ Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø¬Ø¯ÙŠØ¯</option>\n                </select>\n                <input id="customClassInput" class="swal2-input hidden" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯" style="margin-top: 10px;">\n            `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Ø­ÙØ¸",cancelButtonText:"Ø¥Ù„ØºØ§Ø¡",didOpen:()=>{const e=document.getElementById("classAssignmentSelect"),t=document.getElementById("customClassInput");e.addEventListener("change",(function(){"custom"===this.value?t.classList.remove("hidden"):t.classList.add("hidden")}))},preConfirm:()=>{const e=document.getElementById("classAssignmentSelect"),t=document.getElementById("customClassInput");let s=e.value;return"custom"!==s||(s=t.value.trim(),s)?s:(Swal.showValidationMessage("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ù…"),!1)}}).then((async t=>{t.isConfirmed&&t.value&&(await this.assignClassToTeacher(e.id,t.value),TeachersManager.loadTeachers&&await TeachersManager.loadTeachers())}))}static extractClassesFromStudents(){if(!StudentsManager.students||0===StudentsManager.students.length)return["Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰","Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©","Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©","Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©","Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©"];const e=new Set;return StudentsManager.students.forEach((t=>{t.class&&e.add(t.class)})),Array.from(e)}}TeachersManager.renderTable=function(){if(!this.teachers||0===this.teachers.length)return void(elements.teachersTable.innerHTML='\n            <tr>\n                <td colspan="9" class="text-center" style="padding: 40px;">\n                    <div style="font-size: 48px; color: #ddd; margin-bottom: 10px;">\n                        <i class="fas fa-chalkboard-teacher"></i>\n                    </div>\n                    <div style="color: var(--gray-color);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø¹Ø±Ø¶</div>\n                </td>\n            </tr>\n        ');let e="";this.teachers.forEach(((t,s)=>{e+=`\n            <tr>\n                <td>${s+1}</td>\n                <td>\n                    <strong>${t.fullName||""}</strong><br>\n                    <small style="color: var(--gray-color);">${t.id}</small>\n                </td>\n                <td>${t.subject||""}</td>\n                <td>${t.email||""}</td>\n                <td>${t.phone||""}</td>\n                <td>\n                    <span class="badge ${t.assignedClass?"badge-info":"badge-warning"}">\n                        ${t.assignedClass||"ØºÙŠØ± Ù…Ø³Ù†Ø¯"}\n                    </span>\n                </td>\n                <td>${Utils.formatDate(t.hireDate)}</td>\n                <td>\n                    <span class="badge ${"active"===t.status?"badge-success":"badge-danger"}">\n                        ${"active"===t.status?"Ù†Ø´Ø·":"ØºÙŠØ± Ù†Ø´Ø·"}\n                    </span>\n                </td>\n                <td>\n                    <div style="display: flex; gap: 5px; justify-content: center;">\n                        <button class="btn btn-sm btn-assign-class" data-id="${t.id}"\n                                style="background: var(--primary-color); color: white;"\n                                title="Ø¥Ø³Ù†Ø§Ø¯ Ù‚Ø³Ù…">\n                            <i class="fas fa-users-class"></i>\n                        </button>\n                        <button class="btn btn-sm btn-edit-teacher" data-id="${t.id}"\n                                style="background: var(--warning-color); color: white;">\n                            <i class="fas fa-edit"></i>\n                        </button>\n                        <button class="btn btn-sm btn-delete-teacher" data-id="${t.id}"\n                                style="background: var(--danger-color); color: white;">\n                            <i class="fas fa-trash"></i>\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        `})),elements.teachersTable.innerHTML=e,this.attachTeacherEventListeners()},TeachersManager.attachTeacherEventListeners=function(){elements.teachersTable.querySelectorAll(".btn-assign-class").forEach((e=>{e.addEventListener("click",(()=>{const t=this.teachers.find((t=>t.id===e.dataset.id));t&&ClassAssignmentManager.showClassAssignmentModal(t)}))})),elements.teachersTable.querySelectorAll(".btn-edit-teacher").forEach((e=>{e.addEventListener("click",(()=>this.editTeacher(e.dataset.id)))})),elements.teachersTable.querySelectorAll(".btn-delete-teacher").forEach((e=>{e.addEventListener("click",(()=>this.deleteTeacher(e.dataset.id)))}))}</script>
<div id=importModal class="modal hidden">
<div class=modal-content style="background:#fff;padding:30px;border-radius:var(--border-radius-lg);max-width:500px;margin:50px auto">
<div style=display:flex;justify-content:space-between;align-items:center;margin-bottom:20px>
<h3 style=color:var(--primary-color)>
<i class="fas fa-file-import"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ„Ø§Ù…ÙŠØ°
</h3>
<button id=closeImportModal style="background:0 0;border:none;font-size:20px;cursor:pointer;color:var(--gray-color)">
<i class="fas fa-times"></i>
</button>
</div>
<div class="alert alert-info">
<i class="fas fa-info-circle"></i>
<strong>ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ù„Ù:</strong> ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…Ù„Ù Excel Ø¨Ù†ÙØ³ ØªÙ†Ø³ÙŠÙ‚ Ù…Ù„Ù Ø§Ù„ØªØµØ¯ÙŠØ±
</div>
<div class=form-group>
<label class=form-label>
<i class="fas fa-file-excel"></i> Ø§Ø®ØªØ± Ù…Ù„Ù Excel
</label>
<input type=file id=studentImportFile class=form-control accept=.xlsx,.xls>
</div>
<div id=importPreview class=hidden style="margin:20px 0">
<h4><i class="fas fa-table"></i> Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h4>
<div id=previewTable style="max-height:300px;overflow-y:auto;margin:10px 0"></div>
</div>
<div class=input-group>
<button id=startImportBtn class="btn btn-primary" disabled>
<i class="fas fa-upload"></i> Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯
</button>
<button id=cancelImportBtn class="btn btn-secondary">
<i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
</button>
</div>
<div id=importProgress class="hidden mt-20">
<div style=background:#f0f0f0;border-radius:var(--border-radius-md);height:12px;overflow:hidden>
<div id=importProgressBar style="height:100%;width:0%;background:var(--gradient-primary);transition:width .3s"></div>
</div>
<div class="text-center mt-10" style=color:var(--gray-color)>
<span id=importStatusText>Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</span>
<span id=importPercent style=font-weight:700;margin-right:10px>0%</span>
</div>
</div>
</div>
</div>
<style>.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:3000}.modal.hidden{display:none}</style>
<div id=importTeachersModal class="modal hidden">
<div class=modal-content style="background:#fff;padding:30px;border-radius:var(--border-radius-lg);max-width:500px;margin:50px auto">
<div style=display:flex;justify-content:space-between;align-items:center;margin-bottom:20px>
<h3 style=color:var(--primary-color)>
<i class="fas fa-file-import"></i> Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§ØªØ°Ø©
</h3>
<button id=closeImportTeachersModal style="background:0 0;border:none;font-size:20px;cursor:pointer;color:var(--gray-color)">
<i class="fas fa-times"></i>
</button>
</div>
<div class="alert alert-info">
<i class="fas fa-info-circle"></i>
<strong>ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ù„Ù:</strong> ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ØŒ Ø§Ù„Ù…Ø§Ø¯Ø©ØŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŒ Ø§Ù„Ù‡Ø§ØªÙ
</div>
<div class=form-group>
<label class=form-label>
<i class="fas fa-file-excel"></i> Ø§Ø®ØªØ± Ù…Ù„Ù Excel
</label>
<input type=file id=teacherImportFile class=form-control accept=.xlsx,.xls>
</div>
<div class=input-group>
<button id=startImportTeachersBtn class="btn btn-primary" disabled>
<i class="fas fa-upload"></i> Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯
</button>
<button id=cancelImportTeachersBtn class="btn btn-secondary">
<i class="fas fa-times"></i> Ø¥Ù„ØºØ§Ø¡
</button>
</div>
</div>
</div>
</body>
</html>
